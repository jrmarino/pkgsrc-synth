$NetBSD: patch-makefile,v 1.18 2016/12/25 21:44:35 joerg Exp $

Treat all BSDs the same.

--- makefile.orig	2016-10-25 23:47:23.000000000 +0000
+++ makefile
@@ -177,19 +177,19 @@ GENIEOS := solaris
 endif
 ifeq ($(firstword $(filter FreeBSD,$(UNAME))),FreeBSD)
 OS := freebsd
-GENIEOS := freebsd
+GENIEOS := bsd
 endif
 ifeq ($(firstword $(filter GNU/kFreeBSD,$(UNAME))),GNU/kFreeBSD)
 OS := freebsd
-GENIEOS := freebsd
+GENIEOS := bsd
 endif
 ifeq ($(firstword $(filter NetBSD,$(UNAME))),NetBSD)
 OS := netbsd
-GENIEOS := freebsd
+GENIEOS := bsd
 endif
 ifeq ($(firstword $(filter OpenBSD,$(UNAME))),OpenBSD)
 OS := openbsd
-GENIEOS := freebsd
+GENIEOS := bsd
 endif
 ifeq ($(firstword $(filter Darwin,$(UNAME))),Darwin)
 OS := macosx
@@ -884,11 +884,6 @@ $(info GCC $(GCC_VERSION) detected)
 else
 $(info Clang $(CLANG_VERSION) detected)
 ifneq ($(TARGETOS),asmjs)
-ifeq ($(ARCHITECTURE),_x64)
-ARCHITECTURE := _x64_clang
-else
-ARCHITECTURE := _x86_clang
-endif
 endif
 endif
 
@@ -1279,7 +1274,7 @@ freebsd_x86: generate $(PROJECTDIR)/$(MA
 #-------------------------------------------------
 
 $(PROJECTDIR)/$(MAKETYPE)-netbsd/Makefile: makefile $(SCRIPTS) $(GENIE)
-	$(SILENT) $(GENIE) $(PARAMS) $(TARGET_PARAMS) --gcc=netbsd --gcc_version=$(GCC_VERSION) $(MAKETYPE)
+	$(SILENT) $(GENIE) $(PARAMS) $(TARGET_PARAMS) --gcc=netbsd --gcc_version=$(GCC_VERSION) --clang_version=$(CLANG_VERSION) $(MAKETYPE)
 
 .PHONY: netbsd_x64
 netbsd_x64: generate $(PROJECTDIR)/$(MAKETYPE)-netbsd/Makefile
