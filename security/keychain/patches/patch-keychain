$NetBSD: patch-keychain,v 1.3 2018/01/21 16:03:29 roy Exp $

local is not required by POSIX shells.

--- keychain.orig	2017-11-11 04:54:46.000000000 +0000
+++ keychain
@@ -357,7 +357,7 @@ lockfile() {
 	# it returns 0. If it fails, it returns 1. This function retuns immediately
 	# and only tries to acquire the lock once.
 
-		local tmpfile="$lockf.$$"
+		tmpfile="$lockf.$$"
 
 		echo $$ >"$tmpfile" 2>/dev/null || exit
 		if ln "$tmpfile" "$lockf" 2>/dev/null; then
@@ -386,7 +386,7 @@ takelock() {
 	# First attempt:
 	lockfile && return 0
 
-	local counter=0
+	counter=0
 	mesg "Waiting $lockwait seconds for lock..."
 	while [ "$counter" -lt "$(( $lockwait * 2 ))" ]
 	do
